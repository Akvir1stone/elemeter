<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Bare - Start Bootstrap Template</title>
        <!-- Favicon-->
<!--        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />-->
        <!-- Core theme CSS (includes Bootstrap)-->
        <link rel="stylesheet" href="static/css/styles.css" />


    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
         <script>
            function display_chart(){
                var json_data = {"jsonarray": {{ json_data }}};
                var labels = json_data.jsonarray.map(function(e) {return e.date;});
                var data = json_data.jsonarray.map(function(e) {return e.voltage1;});
                const ctx = document.getElementById('myChart');
                var config = {
                   type: 'line',
                   data: {
                      labels: labels,
                      datasets: [{
                         label: 'Graph Line',
                         data: data,
                         backgroundColor: 'rgba(0, 119, 204, 0.3)'
                      }]
                   }
                };

                var chart = new Chart(ctx, config);
            }
         </script>
</head>
<body onload="display_chart()">

<!--    {"jsonarray": {{ json_data }}}-->
    <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>
    <div  class="table-responsive small">
        <table class="table table-striped table-sm">
            <thead>
            <TR>
                <TD scope="col"><b>power1</b></TD>
                <TD scope="col"><b>power2</b></TD>
                <TD scope="col"><b>power3</b></TD>
                <TD scope="col"><b>voltage1</b></TD>
                <TD scope="col"><b>voltage2</b></TD>
                <TD scope="col"><b>voltage3</b></TD>
                <TD scope="col"><b>current1</b></TD>
                <TD scope="col"><b>current2</b></TD>
                <TD scope="col"><b>current3</b></TD>
                <TD scope="col"><b>date</b></TD>
            </TR>
            </thead>
            <tbody>
            {% for r in json_data %}
            <TR>
                <TD>{{r.power1}}</TD>
                <TD>{{r.power2}}</TD>
                <TD>{{r.power3}}</TD>
                <TD>{{r.voltage1}}</TD>
                <TD>{{r.voltage2}}</TD>
                <TD>{{r.voltage3}}</TD>
                <TD>{{r.current1}}</TD>
                <TD>{{r.current2}}</TD>
                <TD>{{r.current3}}</TD>
                <TD>{{r.date}}</TD>
            </TR>
            {% endfor %}
            <tbody/>
        </table>
    </div>
</body>
</html>